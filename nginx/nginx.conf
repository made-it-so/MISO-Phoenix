# An empty events block is required for Nginx to run correctly.
events {}

# The http block wraps all web server configuration.
http {
  # Defines a virtual server to handle requests.
  server {
    # Listen on port 80 for incoming connections.
    listen 80;

    # Handle all requests to the root URL ("/").
    location / {
      # Forward the request to the backend service at port 8000.
      proxy_pass http://backend:8000;
      
      # Set headers to pass along original request info to the backend.
      proxy_set_header Host $host;
      proxy_set_header X-Real-IP $remote_addr;
      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
      proxy_set_header X-Forwarded-Proto $scheme;
    }
  }
}